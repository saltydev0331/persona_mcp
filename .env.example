# Persona MCP Server Configuration Template
# Copy this file to .env and customize the values for your environment

# =============================================================================
# Server Configuration
# =============================================================================

# Host interface to bind the server to
# Use 'localhost' for local-only access, '0.0.0.0' for network access
SERVER_HOST=localhost

# Port number for the MCP WebSocket server
SERVER_PORT=8000

# WebSocket endpoint path
WEBSOCKET_PATH=/mcp

# =============================================================================
# Database Configuration  
# =============================================================================

# SQLite database file path for structured data (personas, conversations, etc.)
SQLITE_DB_PATH=data/personas.db

# ChromaDB directory for vector memory storage
CHROMADB_PATH=data/vector_memory

# =============================================================================
# LLM Configuration
# =============================================================================

# Ollama server URL - ensure Ollama is running on this address
OLLAMA_HOST=http://localhost:11434

# Default language model to use (must be installed in Ollama)
# Popular options: llama3.1:8b, llama3.1:70b, mistral:7b, codellama:13b
DEFAULT_MODEL=llama3.1:8b

# =============================================================================
# Memory Management Configuration
# =============================================================================

# Maximum memories per persona before pruning is triggered
MAX_MEMORIES_PER_PERSONA=1000

# Pruning threshold - start pruning when this many memories exist
PRUNING_THRESHOLD=900

# Memory decay interval in hours (background aging process)
DECAY_INTERVAL_HOURS=6

# Enable/disable automatic background memory processing
BACKGROUND_PROCESSING=true

# =============================================================================
# Simulation Configuration
# =============================================================================

# Interval between simulation ticks in seconds
SIMULATION_TICK_INTERVAL=30

# Maximum concurrent conversations in simulation mode
MAX_CONCURRENT_CONVERSATIONS=5

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path - will be created if it doesn't exist
LOG_FILE=logs/persona_server.log

# Enable debug mode for verbose output
DEBUG_MODE=false

# =============================================================================
# Performance Tuning (Advanced)
# =============================================================================

# ChromaDB collection size limits
CHROMADB_MAX_BATCH_SIZE=100

# WebSocket connection limits
MAX_WEBSOCKET_CONNECTIONS=100

# Memory importance scoring weights (0.0-1.0)
IMPORTANCE_WEIGHT_EMOTIONAL=0.25
IMPORTANCE_WEIGHT_CONTEXT=0.20
IMPORTANCE_WEIGHT_INTERESTS=0.15
IMPORTANCE_WEIGHT_ENGAGEMENT=0.10
IMPORTANCE_WEIGHT_RELATIONSHIP=0.10
IMPORTANCE_WEIGHT_RECENCY=0.05

# =============================================================================
# Development & Testing
# =============================================================================

# Enable test mode features
TEST_MODE=false

# Skip ChromaDB initialization for testing
SKIP_CHROMADB_INIT=false

# Mock Ollama responses for testing
MOCK_OLLAMA_RESPONSES=false